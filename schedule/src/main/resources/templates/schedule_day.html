<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <title>1æ—¥ã®äºˆå®š</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 20px;
    }

    .hour-box {
      border-bottom: 1px solid #ccc;
      padding: 10px;
      display: flex;
      align-items: center;
    }

    .time-label {
      width: 80px;
      font-weight: bold;
    }

    .title {
      background-color: #ffdddd;
      padding: 5px 10px;
      border-radius: 5px;
      margin-left: 20px;
    }

    /* ãƒ‡ãƒãƒƒã‚°è¡¨ç¤ºç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .debug-box {
      background-color: #f0f0f0;
      border: 2px dashed #888;
      padding: 10px;
      margin-bottom: 20px;
      color: #333;
    }
  </style>
</head>

<body>

  <div class="debug-box">
    <h3>ğŸ” ãƒ‡ãƒãƒƒã‚°æƒ…å ±</h3>
    <p>æ—¥ä»˜: <span th:text="${date}"></span></p>
    <p>å–å¾—ã§ããŸç”»åƒã®æ•°: <span th:text="${imagesByHour.size()}"></span> å€‹ (ã‚­ãƒ¼ã®æ•°)</p>
    <p>ä¸­èº«: <span th:text="${imagesByHour}"></span></p>
    <p>â€»ã“ã“ãŒ { } ç©ºã£ã½ãªã‚‰DBå–å¾—ã«å¤±æ•—ã—ã¦ã„ã¾ã™ã€‚<br>
      â€»ã“ã“ã«æ–‡å­—ãŒã‚ã‚‹ã®ã«ä¸‹ã«ç”»åƒãŒå‡ºãªã„ãªã‚‰HTMLã®å•é¡Œã§ã™ã€‚</p>
  </div>
  <h2 th:text="${date} + ' ã®äºˆå®š'"></h2>

  <div th:each="h : ${hours}" class="hour-box">

    <div class="time-label" th:text="${h} + 'æ™‚'"></div>

    <div th:if="${plansByHour[h] != null}">
      <span th:text="${plansByHour[h].title}" class="title"></span>
    </div>

    <div th:if="${imagesByHour.containsKey(h)}" style="margin-left:20px;">

      <div th:each="imgName : ${imagesByHour.get(h)}">

        <a th:href="@{/uploads/{name}(name=${imgName})}" target="_blank" th:text="${imgName}">ãƒ•ã‚¡ã‚¤ãƒ«å</a>
        <br />

        <a th:href="@{/uploads/{name}(name=${imgName})}" target="_blank">
          <img th:src="@{/uploads/{name}(name=${imgName})}"
            style="max-width:150px; max-height:150px; margin-top:5px; border:1px solid #ddd;" />
        </a>
        <hr />
      </div>
    </div>
  </div>

  <p><a href="/calendar">ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«æˆ»ã‚‹</a></p>

</body>

</html>
